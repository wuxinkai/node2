<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.css">
</head>
<body>
<div style="margin:200px 100px;">
    <form class="form-horizontal" role="form" style="width: 500px;float: left">
        <div class="form-group">
            <label class="col-sm-2 control-label">账号</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="username" placeholder="请输入账号">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">密码</label>
            <div class="col-sm-10">
                <input type="text" class="form-control"  name="password" placeholder="请输入密码">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="button"  onclick="reg()"  class="btn btn-default">登录</button>
            </div>
        </div>
    </form>

    <table class="table table-striped" style="float: left;width: 300px; margin: 0 auto;border: 1px solid red;margin-left: 100px">
        <thead>
        <tr>
            <th>用户名</th>
            <th>密码</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Tanmay</td>
            <td>Bangalore</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
<script type="text/javascript">
   function reg(){
       var username = document.querySelector("input[name='username']").value;
       var password = document.querySelector("input[name='password']").value;
       var user={
           username:username,
           password:password
       }
       //1创建一个ajax对象
       var xhr = new XMLHttpRequest();
       // 2 指定参数
       xhr.open('POST','/reg',true);
       //设置响应类型 会直接把  xhr.response;转换成向对应的类型
       xhr.responseType ='json'; //把后台传过来的数据转化成json格式
       xhr.onreadystatechange=function(){
           //状态为4 也就是响应接收完毕
           if(xhr.readyState==4){
                if(xhr.status ==200){
                    var user =xhr.response; //接收后台返回来的数据 转过来的是字符串但我我们要转化成对象
                    var tbody = document.querySelector('table tbody');
                    var tr = document.createElement('tr');
                    var td1 = document.createElement('td');
                    td1.innerHTML =user.username;
                    var td2 = document.createElement('td');
                    td2.innerHTML =user.password;
                    tr.appendChild(td1);
                    tr.appendChild(td2);
                    tbody.appendChild(tr)
                }else {

                }
           }
       }
       xhr.send(JSON.stringify(user)) //发送
   }



</script>